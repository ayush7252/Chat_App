{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/ayush/Downloads/Chat-App/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _asyncToGenerator from\"C:/Users/ayush/Downloads/Chat-App/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/ayush/Downloads/Chat-App/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/ayush/Downloads/Chat-App/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/ayush/Downloads/Chat-App/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import _regeneratorRuntime from\"C:\\\\Users\\\\ayush\\\\Downloads\\\\Chat-App\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import styled from\"styled-components\";import{useNavigate,Link}from\"react-router-dom\";import Logo from\"../assets/logo.svg\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{registerRoute}from\"../utils/APIRoutes\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Register(){var navigate=useNavigate();var toastOptions={position:\"bottom-right\",autoClose:8000,pauseOnHover:true,draggable:true,theme:\"dark\"};var _useState=useState({username:\"\",email:\"\",password:\"\",confirmPassword:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];useEffect(function(){if(localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)){navigate(\"/\");}},[]);var handleChange=function handleChange(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},event.target.name,event.target.value)));};var handleValidation=function handleValidation(){var password=values.password,confirmPassword=values.confirmPassword,username=values.username,email=values.email;if(password!==confirmPassword){toast.error(\"Password and confirm password should be same.\",toastOptions);return false;}else if(username.length<3){toast.error(\"Username should be greater than 3 characters.\",toastOptions);return false;}else if(password.length<8){toast.error(\"Password should be equal or greater than 8 characters.\",toastOptions);return false;}else if(email===\"\"){toast.error(\"Email is required.\",toastOptions);return false;}return true;};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var email,username,password,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!handleValidation()){_context.next=9;break;}email=values.email,username=values.username,password=values.password;_context.next=5;return axios.post(registerRoute,{username:username,email:email,password:password});case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;if(data.status===false){toast.error(data.msg,toastOptions);}if(data.status===true){localStorage.setItem(process.env.REACT_APP_LOCALHOST_KEY,JSON.stringify(data.user));navigate(\"/\");}case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormContainer,{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:function onSubmit(event){return handleSubmit(event);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Chatgram\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",name:\"username\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",name:\"email\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm Password\",name:\"confirmPassword\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create User\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Already have an account ? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login.\"})]})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});}var FormContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 100vh;\\n  width: 100vw;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  gap: 1rem;\\n  align-items: center;\\n  background-color: #131324;\\n  .brand {\\n    display: flex;\\n    align-items: center;\\n    gap: 1rem;\\n    justify-content: center;\\n    img {\\n      height: 5rem;\\n    }\\n    h1 {\\n      color: white;\\n      text-transform: uppercase;\\n    }\\n  }\\n\\n  form {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 2rem;\\n    background-color: #00000076;\\n    border-radius: 2rem;\\n    padding: 3rem 5rem;\\n  }\\n  input {\\n    background-color: transparent;\\n    padding: 1rem;\\n    border: 0.1rem solid #4e0eff;\\n    border-radius: 0.4rem;\\n    color: white;\\n    width: 100%;\\n    font-size: 1rem;\\n    &:focus {\\n      border: 0.1rem solid #997af0;\\n      outline: none;\\n    }\\n  }\\n  button {\\n    background-color: #4e0eff;\\n    color: white;\\n    padding: 1rem 2rem;\\n    border: none;\\n    font-weight: bold;\\n    cursor: pointer;\\n    border-radius: 0.4rem;\\n    font-size: 1rem;\\n    text-transform: uppercase;\\n    &:hover {\\n      background-color: #4e0eff;\\n    }\\n  }\\n  span {\\n    color: white;\\n    text-transform: uppercase;\\n    a {\\n      color: #4e0eff;\\n      text-decoration: none;\\n      font-weight: bold;\\n    }\\n  }\\n\"])));","map":{"version":3,"names":["React","useState","useEffect","axios","styled","useNavigate","Link","Logo","ToastContainer","toast","registerRoute","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","navigate","toastOptions","position","autoClose","pauseOnHover","draggable","theme","_useState","username","email","password","confirmPassword","_useState2","_slicedToArray","values","setValues","localStorage","getItem","process","env","REACT_APP_LOCALHOST_KEY","handleChange","event","_objectSpread","_defineProperty","target","name","value","handleValidation","error","length","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$post","data","wrap","_callee$","_context","prev","next","preventDefault","post","sent","status","msg","setItem","JSON","stringify","user","stop","_x","apply","arguments","children","FormContainer","action","onSubmit","className","src","alt","type","placeholder","onChange","e","to","div","_templateObject","_taggedTemplateLiteral"],"sources":["C:/Users/ayush/Downloads/Chat-App/frontend/src/pages/Register.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport Logo from \"../assets/logo.svg\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { registerRoute } from \"../utils/APIRoutes\";\n\nexport default function Register() {\n  const navigate = useNavigate();\n  const toastOptions = {\n    position: \"bottom-right\",\n    autoClose: 8000,\n    pauseOnHover: true,\n    draggable: true,\n    theme: \"dark\",\n  };\n  const [values, setValues] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  useEffect(() => {\n    if (localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)) {\n      navigate(\"/\");\n    }\n  }, []);\n\n  const handleChange = (event) => {\n    setValues({ ...values, [event.target.name]: event.target.value });\n  };\n\n  const handleValidation = () => {\n    const { password, confirmPassword, username, email } = values;\n    if (password !== confirmPassword) {\n      toast.error(\n        \"Password and confirm password should be same.\",\n        toastOptions\n      );\n      return false;\n    } else if (username.length < 3) {\n      toast.error(\n        \"Username should be greater than 3 characters.\",\n        toastOptions\n      );\n      return false;\n    } else if (password.length < 8) {\n      toast.error(\n        \"Password should be equal or greater than 8 characters.\",\n        toastOptions\n      );\n      return false;\n    } else if (email === \"\") {\n      toast.error(\"Email is required.\", toastOptions);\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (handleValidation()) {\n      const { email, username, password } = values;\n      const { data } = await axios.post(registerRoute, {\n        username,\n        email,\n        password,\n      });\n\n      if (data.status === false) {\n        toast.error(data.msg, toastOptions);\n      }\n      if (data.status === true) {\n        localStorage.setItem(\n          process.env.REACT_APP_LOCALHOST_KEY,\n          JSON.stringify(data.user)\n        );\n        navigate(\"/\");\n      }\n    }\n  };\n\n  return (\n    <>\n      <FormContainer>\n        <form action=\"\" onSubmit={(event) => handleSubmit(event)}>\n          <div className=\"brand\">\n            <img src={Logo} alt=\"logo\" />\n            <h1>Chatgram</h1>\n          </div>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            name=\"username\"\n            onChange={(e) => handleChange(e)}\n          />\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            onChange={(e) => handleChange(e)}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            onChange={(e) => handleChange(e)}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            name=\"confirmPassword\"\n            onChange={(e) => handleChange(e)}\n          />\n          <button type=\"submit\">Create User</button>\n          <span>\n            Already have an account ? <Link to=\"/login\">Login.</Link>\n          </span>\n        </form>\n      </FormContainer>\n      <ToastContainer />\n    </>\n  );\n}\n\nconst FormContainer = styled.div`\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 1rem;\n  align-items: center;\n  background-color: #131324;\n  .brand {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    justify-content: center;\n    img {\n      height: 5rem;\n    }\n    h1 {\n      color: white;\n      text-transform: uppercase;\n    }\n  }\n\n  form {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    background-color: #00000076;\n    border-radius: 2rem;\n    padding: 3rem 5rem;\n  }\n  input {\n    background-color: transparent;\n    padding: 1rem;\n    border: 0.1rem solid #4e0eff;\n    border-radius: 0.4rem;\n    color: white;\n    width: 100%;\n    font-size: 1rem;\n    &:focus {\n      border: 0.1rem solid #997af0;\n      outline: none;\n    }\n  }\n  button {\n    background-color: #4e0eff;\n    color: white;\n    padding: 1rem 2rem;\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    border-radius: 0.4rem;\n    font-size: 1rem;\n    text-transform: uppercase;\n    &:hover {\n      background-color: #4e0eff;\n    }\n  }\n  span {\n    color: white;\n    text-transform: uppercase;\n    a {\n      color: #4e0eff;\n      text-decoration: none;\n      font-weight: bold;\n    }\n  }\n`;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}