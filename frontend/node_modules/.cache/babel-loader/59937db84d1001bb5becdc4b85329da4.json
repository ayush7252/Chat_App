{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/ayush/Downloads/Chat-App/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _asyncToGenerator from\"C:/Users/ayush/Downloads/Chat-App/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/ayush/Downloads/Chat-App/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/ayush/Downloads/Chat-App/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/ayush/Downloads/Chat-App/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import _regeneratorRuntime from\"C:\\\\Users\\\\ayush\\\\Downloads\\\\Chat-App\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import styled from\"styled-components\";import{useNavigate,Link}from\"react-router-dom\";import Logo from\"../assets/logo.svg\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{loginRoute}from\"../utils/APIRoutes\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var navigate=useNavigate();var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var toastOptions={position:\"bottom-right\",autoClose:8000,pauseOnHover:true,draggable:true,theme:\"dark\"};useEffect(function(){if(localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)){navigate(\"/\");}},[]);var handleChange=function handleChange(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},event.target.name,event.target.value)));};var validateForm=function validateForm(){var username=values.username,password=values.password;if(username===\"\"){toast.error(\"Email and Password is required.\",toastOptions);return false;}else if(password===\"\"){toast.error(\"Email and Password is required.\",toastOptions);return false;}return true;};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var username,password,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!validateForm()){_context.next=9;break;}username=values.username,password=values.password;_context.next=5;return axios.post(loginRoute,{username:username,password:password});case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;if(data.status===false){toast.error(data.msg,toastOptions);}if(data.status===true){localStorage.setItem(process.env.REACT_APP_LOCALHOST_KEY,JSON.stringify(data.user));navigate(\"/\");}case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormContainer,{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:function onSubmit(event){return handleSubmit(event);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Chatgram\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",name:\"username\",onChange:function onChange(e){return handleChange(e);},min:\"3\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Log In\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Don't have an account ? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Create One.\"})]})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});}var FormContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 100vh;\\n  width: 100vw;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  gap: 1rem;\\n  align-items: center;\\n  background-color: #131324;\\n  .brand {\\n    display: flex;\\n    align-items: center;\\n    gap: 1rem;\\n    justify-content: center;\\n    img {\\n      height: 5rem;\\n    }\\n    h1 {\\n      color: white;\\n      text-transform: uppercase;\\n    }\\n  }\\n\\n  form {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 2rem;\\n    background-color: #00000076;\\n    border-radius: 2rem;\\n    padding: 5rem;\\n  }\\n  input {\\n    background-color: transparent;\\n    padding: 1rem;\\n    border: 0.1rem solid #4e0eff;\\n    border-radius: 0.4rem;\\n    color: white;\\n    width: 100%;\\n    font-size: 1rem;\\n    &:focus {\\n      border: 0.1rem solid #997af0;\\n      outline: none;\\n    }\\n  }\\n  button {\\n    background-color: #4e0eff;\\n    color: white;\\n    padding: 1rem 2rem;\\n    border: none;\\n    font-weight: bold;\\n    cursor: pointer;\\n    border-radius: 0.4rem;\\n    font-size: 1rem;\\n    text-transform: uppercase;\\n    &:hover {\\n      background-color: #4e0eff;\\n    }\\n  }\\n  span {\\n    color: white;\\n    text-transform: uppercase;\\n    a {\\n      color: #4e0eff;\\n      text-decoration: none;\\n      font-weight: bold;\\n    }\\n  }\\n\"])));","map":{"version":3,"names":["React","useState","useEffect","axios","styled","useNavigate","Link","Logo","ToastContainer","toast","loginRoute","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","navigate","_useState","username","password","_useState2","_slicedToArray","values","setValues","toastOptions","position","autoClose","pauseOnHover","draggable","theme","localStorage","getItem","process","env","REACT_APP_LOCALHOST_KEY","handleChange","event","_objectSpread","_defineProperty","target","name","value","validateForm","error","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$post","data","wrap","_callee$","_context","prev","next","preventDefault","post","sent","status","msg","setItem","JSON","stringify","user","stop","_x","apply","arguments","children","FormContainer","action","onSubmit","className","src","alt","type","placeholder","onChange","e","min","to","div","_templateObject","_taggedTemplateLiteral"],"sources":["C:/Users/ayush/Downloads/Chat-App/frontend/src/pages/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport Logo from \"../assets/logo.svg\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { loginRoute } from \"../utils/APIRoutes\";\n\nexport default function Login() {\n  const navigate = useNavigate();\n  const [values, setValues] = useState({ username: \"\", password: \"\" });\n  const toastOptions = {\n    position: \"bottom-right\",\n    autoClose: 8000,\n    pauseOnHover: true,\n    draggable: true,\n    theme: \"dark\",\n  };\n  useEffect(() => {\n    if (localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)) {\n      navigate(\"/\");\n    }\n  }, []);\n\n  const handleChange = (event) => {\n    setValues({ ...values, [event.target.name]: event.target.value });\n  };\n\n  const validateForm = () => {\n    const { username, password } = values;\n    if (username === \"\") {\n      toast.error(\"Email and Password is required.\", toastOptions);\n      return false;\n    } else if (password === \"\") {\n      toast.error(\"Email and Password is required.\", toastOptions);\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (validateForm()) {\n      const { username, password } = values;\n      const { data } = await axios.post(loginRoute, {\n        username,\n        password,\n      });\n      if (data.status === false) {\n        toast.error(data.msg, toastOptions);\n      }\n      if (data.status === true) {\n        localStorage.setItem(\n          process.env.REACT_APP_LOCALHOST_KEY,\n          JSON.stringify(data.user)\n        );\n\n        navigate(\"/\");\n      }\n    }\n  };\n\n  return (\n    <>\n      <FormContainer>\n        <form action=\"\" onSubmit={(event) => handleSubmit(event)}>\n          <div className=\"brand\">\n            <img src={Logo} alt=\"logo\" />\n            <h1>Chatgram</h1>\n          </div>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            name=\"username\"\n            onChange={(e) => handleChange(e)}\n            min=\"3\"\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            onChange={(e) => handleChange(e)}\n          />\n          <button type=\"submit\">Log In</button>\n          <span>\n            Don't have an account ? <Link to=\"/register\">Create One.</Link>\n          </span>\n        </form>\n      </FormContainer>\n      <ToastContainer />\n    </>\n  );\n}\n\nconst FormContainer = styled.div`\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 1rem;\n  align-items: center;\n  background-color: #131324;\n  .brand {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    justify-content: center;\n    img {\n      height: 5rem;\n    }\n    h1 {\n      color: white;\n      text-transform: uppercase;\n    }\n  }\n\n  form {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    background-color: #00000076;\n    border-radius: 2rem;\n    padding: 5rem;\n  }\n  input {\n    background-color: transparent;\n    padding: 1rem;\n    border: 0.1rem solid #4e0eff;\n    border-radius: 0.4rem;\n    color: white;\n    width: 100%;\n    font-size: 1rem;\n    &:focus {\n      border: 0.1rem solid #997af0;\n      outline: none;\n    }\n  }\n  button {\n    background-color: #4e0eff;\n    color: white;\n    padding: 1rem 2rem;\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    border-radius: 0.4rem;\n    font-size: 1rem;\n    text-transform: uppercase;\n    &:hover {\n      background-color: #4e0eff;\n    }\n  }\n  span {\n    color: white;\n    text-transform: uppercase;\n    a {\n      color: #4e0eff;\n      text-decoration: none;\n      font-weight: bold;\n    }\n  }\n`;\n"],"mappings":"kzBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,WAAW,CAAEC,IAAI,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,OAASC,cAAc,CAAEC,KAAK,KAAQ,gBAAgB,CACtD,MAAO,uCAAuC,CAC9C,OAASC,UAAU,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEhD,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC9B,GAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,IAAAc,SAAA,CAA4BlB,QAAQ,CAAC,CAAEmB,QAAQ,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAA7DK,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,GAAM,CAAAI,YAAY,CAAG,CACnBC,QAAQ,CAAE,cAAc,CACxBC,SAAS,CAAE,IAAI,CACfC,YAAY,CAAE,IAAI,CAClBC,SAAS,CAAE,IAAI,CACfC,KAAK,CAAE,MACT,CAAC,CACD7B,SAAS,CAAC,UAAM,CACd,GAAI8B,YAAY,CAACC,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,uBAAuB,CAAC,CAAE,CAC7DlB,QAAQ,CAAC,GAAG,CAAC,CACf,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAmB,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,KAAK,CAAK,CAC9Bb,SAAS,CAAAc,aAAA,CAAAA,aAAA,IAAMf,MAAM,KAAAgB,eAAA,IAAGF,KAAK,CAACG,MAAM,CAACC,IAAI,CAAGJ,KAAK,CAACG,MAAM,CAACE,KAAK,EAAE,CAAC,CACnE,CAAC,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB,GAAQ,CAAAxB,QAAQ,CAAeI,MAAM,CAA7BJ,QAAQ,CAAEC,QAAQ,CAAKG,MAAM,CAAnBH,QAAQ,CAC1B,GAAID,QAAQ,GAAK,EAAE,CAAE,CACnBX,KAAK,CAACoC,KAAK,CAAC,iCAAiC,CAAEnB,YAAY,CAAC,CAC5D,MAAO,MAAK,CACd,CAAC,IAAM,IAAIL,QAAQ,GAAK,EAAE,CAAE,CAC1BZ,KAAK,CAACoC,KAAK,CAAC,iCAAiC,CAAEnB,YAAY,CAAC,CAC5D,MAAO,MAAK,CACd,CACA,MAAO,KAAI,CACb,CAAC,CAED,GAAM,CAAAoB,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAOb,KAAK,MAAAlB,QAAA,CAAAC,QAAA,CAAA+B,iBAAA,CAAAC,IAAA,QAAAJ,mBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC/BpB,KAAK,CAACqB,cAAc,CAAC,CAAC,CAAC,IACnBf,YAAY,CAAC,CAAC,EAAAY,QAAA,CAAAE,IAAA,UACRtC,QAAQ,CAAeI,MAAM,CAA7BJ,QAAQ,CAAEC,QAAQ,CAAKG,MAAM,CAAnBH,QAAQ,CAAAmC,QAAA,CAAAE,IAAA,SACH,CAAAvD,KAAK,CAACyD,IAAI,CAAClD,UAAU,CAAE,CAC5CU,QAAQ,CAARA,QAAQ,CACRC,QAAQ,CAARA,QACF,CAAC,CAAC,QAAA+B,iBAAA,CAAAI,QAAA,CAAAK,IAAA,CAHMR,IAAI,CAAAD,iBAAA,CAAJC,IAAI,CAIZ,GAAIA,IAAI,CAACS,MAAM,GAAK,KAAK,CAAE,CACzBrD,KAAK,CAACoC,KAAK,CAACQ,IAAI,CAACU,GAAG,CAAErC,YAAY,CAAC,CACrC,CACA,GAAI2B,IAAI,CAACS,MAAM,GAAK,IAAI,CAAE,CACxB9B,YAAY,CAACgC,OAAO,CAClB9B,OAAO,CAACC,GAAG,CAACC,uBAAuB,CACnC6B,IAAI,CAACC,SAAS,CAACb,IAAI,CAACc,IAAI,CAC1B,CAAC,CAEDjD,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,wBAAAsC,QAAA,CAAAY,IAAA,OAAAjB,OAAA,GAEJ,kBApBK,CAAAL,YAAYA,CAAAuB,EAAA,SAAAtB,IAAA,CAAAuB,KAAA,MAAAC,SAAA,OAoBjB,CAED,mBACEzD,KAAA,CAAAE,SAAA,EAAAwD,QAAA,eACE5D,IAAA,CAAC6D,aAAa,EAAAD,QAAA,cACZ1D,KAAA,SAAM4D,MAAM,CAAC,EAAE,CAACC,QAAQ,CAAE,SAAAA,SAACrC,KAAK,QAAK,CAAAQ,YAAY,CAACR,KAAK,CAAC,EAAC,CAAAkC,QAAA,eACvD1D,KAAA,QAAK8D,SAAS,CAAC,OAAO,CAAAJ,QAAA,eACpB5D,IAAA,QAAKiE,GAAG,CAAEtE,IAAK,CAACuE,GAAG,CAAC,MAAM,CAAE,CAAC,cAC7BlE,IAAA,OAAA4D,QAAA,CAAI,UAAQ,CAAI,CAAC,EACd,CAAC,cACN5D,IAAA,UACEmE,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,UAAU,CACtBtC,IAAI,CAAC,UAAU,CACfuC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAA7C,YAAY,CAAC6C,CAAC,CAAC,EAAC,CACjCC,GAAG,CAAC,GAAG,CACR,CAAC,cACFvE,IAAA,UACEmE,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,UAAU,CACtBtC,IAAI,CAAC,UAAU,CACfuC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAA7C,YAAY,CAAC6C,CAAC,CAAC,EAAC,CAClC,CAAC,cACFtE,IAAA,WAAQmE,IAAI,CAAC,QAAQ,CAAAP,QAAA,CAAC,QAAM,CAAQ,CAAC,cACrC1D,KAAA,SAAA0D,QAAA,EAAM,0BACoB,cAAA5D,IAAA,CAACN,IAAI,EAAC8E,EAAE,CAAC,WAAW,CAAAZ,QAAA,CAAC,aAAW,CAAM,CAAC,EAC3D,CAAC,EACH,CAAC,CACM,CAAC,cAChB5D,IAAA,CAACJ,cAAc,GAAE,CAAC,EAClB,CAAC,CAEP,CAEA,GAAM,CAAAiE,aAAa,CAAGrE,MAAM,CAACiF,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,oxCAmE/B","ignoreList":[]},"metadata":{},"sourceType":"module"}